# Ufebs-N

Нормализация XML и установка ЗК/КА на документах УФЭБС.

![Рабочее окно приложения]

## Settings / Настройки программы

В файле `ToKBR-Forms.runtimeconfig.json` секция `configProperties`:

* `"IN.Dir": "."` - 
папка для исходных файлов `*.xml`, получаемых извне;
* `"ZK.Dir": "."` - 
папка результатов Операциониста - с установленным ЗК
(эти файлы и в Backup идут);
* `"KA.Dir": "."` - 
папка результатов Контролера - с установленным КА
(эти файлы и отправляются в КБР);
* `"KBR.Dir": "."` - 
папка для автоматической отправки в КБР-Н
(папка `X:\\Cli` - КБР оттуда удалит!);
* `"Backup.Dir": "."` - 
папка для накопления прошедших файлов (исходные файлы с установленным ЗК);
* `"Temp.Dir": "."` - 
папка для промежуточных файлов (нормализованные xml, двоичные подписи p7d);
* `"File.Delete": true|false` - 
удалять ли все исходные и промежуточные файлы
(входная папка очищается также! остаются только в папках Backup и KBR);
* `"Step.1": ""` - 
массив допущенных пользователей/компьютеров к операциям шага 1
(пока в разработке);
* `"Step.2": ""` - 
массив допущенных пользователей/компьютеров к операциям шага 2
(пока в разработке);
* `"Step.3": ""` - 
массив допущенных пользователей/компьютеров к операциям шага 3
(пока в разработке);
* `"SpkiUtl.Exe": "C:\\Program Files\\MDPREI\\spki\\spki1utl.exe"` - 
путь к утилите СКАД "Сигнатура";
* `"SpkiUtl.SignDetached": "-sign -data {0} -out {1} -detached"` - 
командная строка утилиты (подписывание файла с отсоединенной подписью,
с указанием исходного `{0}` и результирующего файла `{1}`).
* `"//SpkiUtl.Exe": "C:\\Windows\\System32\\cmd.exe"` - 
раскомментировать для проведения тестов без установленной СКАД "Сигнатура";
* `"//SpkiUtl.SignDetached": "/c copy {0} {1}"` - 
раскомментировать для проведения тестов без установленной СКАД "Сигнатура".

## Requirements / Требования

- .NET 8 Desktop Runtime

## License / Лицензия

Licensed under the [Apache License, Version 2.0].

[Рабочее окно приложения]: docs/assets/images/ToKBR-Forms.png
[Apache License, Version 2.0]: LICENSE
